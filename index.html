<!DOCTYPE html>
<link rel="stylesheet" href="styles.css">
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Layout Practice</title>
    </head>
    <body>
        <script>
            function getComputerChoice() {
                let randomNum = Math.random();
                if (randomNum < .333) {
                    //console.log("Rock")
                    return "rock"
                }
                else if (randomNum < .666) {
                    //console.log("Paper")
                    return "paper"
                }
                else {
                    //console.log("Scissors")
                    return "scissors"
                }
            }
            function playRound(playerSelection, computerSelection) {
                let lowercasePlayerSelection = playerSelection.toLowerCase();
                if (lowercasePlayerSelection == computerSelection) {
                    alert(`It's a tie because you both picked ${computerSelection}!`);
                    return 0;
                }
                else if (lowercasePlayerSelection == "rock") {
                    if (computerSelection == "scissors") {
                        alert("You win! Rock beats scissors.");
                        return 1;
                    }
                    else {
                        alert("You lose! Paper beats rock.");
                        return -1;
                    }
                }
                else if (lowercasePlayerSelection == "paper") {
                    if (computerSelection == "rock") {
                        alert("You win! Paper beats rock.");
                        return 1;
                    }
                    else {
                        alert("You lose! Scissors beats paper.");
                        return -1;
                    }
                }
                else { //player selected scissors
                    if (computerSelection == "paper") {
                        alert("You win! Scissors beats paper.");
                        return 1;
                    }
                    else {
                        alert("You lose! Rock beats scissors.");
                        return -1;
                    }
                }
            }
            function playGame() {
                let playerScore = 0;
                let computerScore = 0;
                alert("Welcome to rock, paper scissors! You will play 5 rounds against the computer.")
                for (let i = 0; i < 5; i++) {
                    let playerChoice = prompt("Choose rock, paper, or scissors");
                    let badChoice = true;
                    while (badChoice) {
                        playerChoice = playerChoice.toLowerCase()
                        if (playerChoice != "rock" && playerChoice != "paper" && playerChoice != "scissors") {
                            alert("Not a valid choice.");
                            playerChoice = prompt("Choose rock, paper, or scissors.");
                        }
                        else {
                            badChoice = false;
                        }
                    }
                    let result = playRound(playerChoice, getComputerChoice());
                    if (result == -1) {
                        computerScore++;
                    }
                    if (result == 1) {
                        playerScore++;
                    }
                }
                alert(`You won ${playerScore} rounds. The computer won ${computerScore} rounds. You can refresh the page to play again.`)
            }
            playGame();
        </script>
    </body>
</html>